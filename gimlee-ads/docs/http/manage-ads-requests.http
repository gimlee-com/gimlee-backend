### Create a New Ad
# Requires USER role authentication
# Creates an ad in an INACTIVE state.
# @name /sales/ads [POST]
POST {{host}}/api/sales/ads
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "title": "My Awesome New Ad Title"
}

### Expected Response (Success - 201 Created):
# Content-Type: application/json
#
# {
#   "id": "60f8f9b3a9d9e8f8a8b8c8d8", // Example generated Ad ID
#   "title": "My Awesome New Ad Title",
#   "description": null,
#   "price": null,
#   "currency": null,
#   "status": "INACTIVE",
#   "userId": "5f8f8f8f8f8f8f8f8f8f8f8f", // Example User ID
#   "location": null,
#   "mediaPaths": [],
#   "mainPhotoPath": null,
#   "stock": 0,
#   "lockedStock": 0,
#   "availableStock": 0,
#   "createdAt": "2023-01-01T10:00:00Z",
#   "updatedAt": "2023-01-01T10:00:00Z"
# }


### Update an Existing Ad
# Requires USER role authentication
# Can only update INACTIVE ads.
# Replace {adId} with the actual ID of the ad you want to update.
# @name /sales/ads/{adId} [PUT]
PUT {{host}}/api/sales/ads/{adId}
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "title": "Updated Ad Title",
  "description": "This is a detailed description of the item.",
  "price": 19.99,
  "currency": "YEC",
  "categoryId": "60f8f9b3a9d9e8f8a8b8c8d8",
  "location": {
    "cityId": "city-id-123",
    "point": {
      "latitude": 40.7128,
      "longitude": -74.0060
    }
  },
  "mediaPaths": [
    "path/to/media/image1.jpg",
    "path/to/media/details/image2.png"
  ],
  "mainPhotoPath": "path/to/media/image1.jpg",
  "stock": 10
}

### Expected Response (Success - 200 OK):
# Content-Type: application/json
#
# {
#   "id": "{adId}", // The updated Ad ID
#   "title": "Updated Ad Title",
#   "description": "This is a detailed description of the item.",
#   "price": 19.99,
#   "currency": "YEC",
#   "status": "INACTIVE", // Status remains INACTIVE after update
#   "userId": "5f8f8f8f8f8f8f8f8f8f8f8f", // Example User ID
#   "location": {
#     "cityId": "city-id-123",
#     "point": {
#       "latitude": 40.7128,
#       "longitude": -74.0060
#     }
#   },
#   "mediaPaths": [
#     "path/to/media/image1.jpg",
#     "path/to/media/details/image2.png"
#   ],
#   "mainPhotoPath": "path/to/media/image1.jpg",
#   "stock": 10,
#   "lockedStock": 0,
#   "availableStock": 10,
#   "createdAt": "2023-01-01T10:00:00Z",
#   "updatedAt": "2023-01-01T10:05:00Z"
# }

### Expected Response (Not Found - 404 Not Found):
# Content-Type: application/json
#
# {
#   "error": "Ad with ID {adId} not found for this user."
# }

### Expected Response (Bad Request - 400 Bad Request):
# Content-Type: application/json
#
# {
#   "error": "Cannot update an ad that is not INACTIVE."
# }
# or
# {
#   "error": "Stock (2) cannot be lower than locked stock (3)."
# }
# or
# {
#   "error": "Category must be a leaf node."
# }


### Activate an Ad
# Requires USER role authentication
# Changes the status of an INACTIVE ad to ACTIVE.
# Replace {adId} with the actual ID of the ad you want to activate.
# @name /sales/ads/{adId}/activate [POST]
POST {{host}}/api/sales/ads/{adId}/activate
Authorization: Bearer {{auth_token}}

### Expected Response (Success - 200 OK):
# Content-Type: application/json
#
# {
#   "id": "{adId}", // The activated Ad ID
#   "title": "Updated Ad Title", // Or original title if not updated
#   "description": "This is a detailed description of the item.", // Or null/previous value
#   "price": 19.99, // Or null/previous value
#   "currency": "YEC", // Or null/previous value
#   "status": "ACTIVE", // Status is now ACTIVE
#   "userId": "5f8f8f8f8f8f8f8f8f8f8f8f", // Example User ID
#   "location": { // Or null/previous value
#     "cityId": "city-id-123",
#     "point": {
#       "latitude": 40.7128,
#       "longitude": -74.0060
#     }
#   },
#   "mediaPaths": [ // Or null/previous value
#     "path/to/media/image1.jpg",
#     "path/to/media/details/image2.png"
#   ],
#   "mainPhotoPath": "path/to/media/image1.jpg", // Or null/previous value
#   "stock": 10,
#   "lockedStock": 0,
#   "availableStock": 10,
#   "createdAt": "2023-01-01T10:00:00Z",
#   "updatedAt": "2023-01-01T10:10:00Z"
# }

### Expected Response (Not Found - 404 Not Found):
# Content-Type: application/json
#
# {
#   "error": "Ad with ID {adId} not found for this user."
# }

### Expected Response (Bad Request - 400 Bad Request):
# Content-Type: application/json
#
# {
#   "error": "Cannot activate an ad that is already ACTIVE." // Or similar message
# }


### Deactivate an Ad
# Requires USER role authentication
# Changes the status of an ACTIVE ad to INACTIVE.
# Replace {adId} with the actual ID of the ad you want to deactivate.
# @name /sales/ads/{adId}/deactivate [POST]
POST {{host}}/api/sales/ads/{adId}/deactivate
Authorization: Bearer {{auth_token}}

### Expected Response (Success - 200 OK):
# Content-Type: application/json
#
# {
#   "id": "{adId}", // The deactivated Ad ID
#   "status": "INACTIVE", // Status is now INACTIVE
#   "updatedAt": "2023-01-01T10:15:00Z"
# }

### Expected Response (Not Found - 404 Not Found):
# Content-Type: application/json
#
# {
#   "error": "Ad not found with ID: {adId}"
# }

### Expected Response (Bad Request - 400 Bad Request):
# Content-Type: application/json
#
# {
#   "error": "Ad can only be deactivated when in ACTIVE state."
# }

### Fetch My Ads
# Requires USER role authentication
# Fetches ads belonging to the authenticated user.
# @name /sales/ads/ [GET]
GET {{host}}/api/sales/ads/?p=0&t=Awesome&s=ACTIVE,INACTIVE
Authorization: Bearer {{auth_token}}

### Expected Response (Success - 200 OK):
# Content-Type: application/json
#
# {
#   "content": [
#     {
#       "id": "60f8f9b3a9d9e8f8a8b8c8d8",
#       "title": "My Awesome New Ad Title",
#       "status": "ACTIVE",
#       "stock": 10,
#       "lockedStock": 2,
#       "availableStock": 8,
#       ...
#     }
#   ],
#   "totalPages": 1,
#   "totalElements": 1,
#   ...
# }

### Fetch Single Ad for Seller
# Requires USER role authentication
# Fetches full details for a specific ad owned by the seller.
# @name /sales/ads/{adId} [GET]
GET {{host}}/api/sales/ads/{adId}
Authorization: Bearer {{auth_token}}

### Expected Response (Success - 200 OK):
# Content-Type: application/json
#
# {
#   "id": "{adId}",
#   "title": "Updated Ad Title",
#   "status": "ACTIVE",
#   "stock": 10,
#   "lockedStock": 2,
#   "availableStock": 8,
#   ...
# }
